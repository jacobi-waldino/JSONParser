# JSON Parser and Tokenizer

This repository contains two Python programs: **Scanner.py** and **Parser.py**, which work together to process a custom JSON-like structure. The script `run.sh` automates the execution of both programs in sequence.

## Overview

1. **Scanner.py**: This program reads an input file, tokenizes it into specific token types (such as strings, numbers, booleans, null, and structural characters like `{`, `}`, `[`, `]`, `:`, `,`), and outputs a tokenized version of the file.
2. **Parser.py**: After tokenization, this program takes the output from `Scanner.py`, parses the tokens into a tree-like structure (abstract syntax tree), and performs validation on the syntax to check for errors like invalid tokens, duplicate keys, and incorrect number formats.

The **`run.sh`** bash script orchestrates the running of both programs.

## Requirements

- Python 3.x
- Basic knowledge of JSON-like structures

## Setup

1. Clone or download this repository.
2. Install any required dependencies. The programs should work with standard Python libraries.

## File Descriptions

### 1. **Scanner.py**

This file reads an input file of JSON and generates a sequence of tokens. Each token is associated with a type and possibly a value. The tokens are:

- **LCURLY**: `{`
- **RCURLY**: `}`
- **LSQUARE**: `[`
- **RSQUARE**: `]`
- **COMMA**: `,`
- **COLON**: `:`
- **STRING**: A string value (e.g., `"hello"`)
- **NUMBER**: A numeric value (e.g., `123`, `3.14`)
- **BOOLEAN**: A boolean value (`True` or `False`)
- **NULL**: A null value (`null`)
- **EOF**: End of file marker

### 2. **Parser.py**

The parser processes the tokens generated by the scanner, validates their structure, and constructs a parse tree. This tree represents the structure of the input data and can be used for further processing or analysis. 

The parser performs error validation on:
- Invalid token formats
- Empty dictionary keys
- Duplicate dictionary keys
- Invalid number formats
- Incorrect types in lists

Errors are stored and printed to an output file.

### 3. **run.sh**

This bash script automates the execution of both Python programs (`Scanner.py` and `Parser.py`). It first runs `Scanner.py` to tokenize the input, then runs `Parser.py` to parse and validate the tokenized input.

## How to Use

1. **Prepare your input files**: Ensure your input follows the JSON format.

2. **Run the script**: 

   Execute the following bash script to run both programs:

   ```bash
   ./run.sh
   ```
    The script will process the input file and produce either an abstract syntax tree or a list of validation errors, depending on whether the input is valid.

3. **Check the Output**:

    - The output will be saved in ```outputs/output<i>.txt``` where ```<i>``` corresponds to the input file number.
   - If no errors are found, the output will show the structure of the parsed tree.
   - If errors are found, the output will list them, including details such as type and location.

## Error Handling

The parser checks for various types of errors during the parsing process. Below are the different error types and their descriptions:

- **Type 1 Error**: Invalid decimal number format
  - Example: `12..34`
  - Description: The parser detects invalid decimal numbers where there is more than one decimal point.

- **Type 2 Error**: Empty dictionary key
  - Example: `{"": "value"}`
  - Description: The parser detects empty dictionary keys, which are not allowed.

- **Type 3 Error**: Invalid number format
  - Example: `00123` or `+12e3`
  - Description: The parser flags invalid number formats, such as integers with leading zeros or numbers with an incorrect exponent format (e.g., a leading plus sign in scientific notation).

- **Type 4 Error**: Reserved word used as a dictionary key
  - Example: `{"true": "value"}`
  - Description: The parser detects the use of reserved words (such as `true`, `false`, or `null`) as dictionary keys, which is not allowed.

- **Type 5 Error**: Duplicate keys in a dictionary
  - Example: `{"key": "value", "key": "another value"}`
  - Description: The parser checks for and flags duplicate keys in a dictionary.

- **Type 6 Error**: Inconsistent types in a list
  - Example: `[1, "two", 3]`
  - Description: The parser detects when elements in a list are of different types, which is not allowed unless the list is empty or contains dictionaries or other lists.

- **Type 7 Error**: Reserved word used as a string value
  - Example: `"true"`
  - Description: The parser detects when reserved words (`true`, `false`, or `null`) are used as string values, which is prohibited.

All errors are logged and written to the output file for further inspection.